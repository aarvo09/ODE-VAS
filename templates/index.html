<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ODE Visualizer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Left Side Input Panel -->
        <div class="input-panel">
            <h2>Differential Equation Solver</h2>
            
            <div class="input-group">
                <label for="equation">Differential Equation (dy/dx = f(x, y))</label>
                <input type="text" id="equation" placeholder="e.g., x + y">
            </div>
            
            <div class="input-row">
                <div class="input-group">
                    <label for="x0">Initial x₀</label>
                    <input type="number" id="x0" step="0.1" placeholder="0">
                </div>
                
                <div class="input-group">
                    <label for="y0">Initial y₀</label>
                    <input type="number" id="y0" step="0.1" placeholder="1">
                </div>
            </div>
            
            <button id="simulate-btn" class="simulate-btn">Simulate</button>
            
            <div id="output" class="output"></div>
        </div>
        
        <!-- Right Side Visualization Area (placeholder for future phases) -->
        <div class="visualization-area">
            <p>Visualization will appear here</p>
        </div>
    </div>

    <script>
        document.getElementById('simulate-btn').addEventListener('click', function() {
            const equation = document.getElementById('equation').value;
            const x0 = document.getElementById('x0').value;
            const y0 = document.getElementById('y0').value;
            
            fetch('/simulate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    equation: equation,
                    x0: x0,
                    y0: y0
                })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('output').innerHTML = `
                    <strong>Received:</strong><br>
                    Equation: dy/dx = ${data.equation}<br>
                    Initial conditions: x₀ = ${data.x0}, y₀ = ${data.y0}
                `;
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    </script>
</body>
</html>
